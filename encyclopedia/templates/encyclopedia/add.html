{% extends "encyclopedia/layout.html" %}

{% block title %}
    Encyclopedia
{% endblock %}

{% block body %}

    <div class="row my-1">
        <div class="col">
            <h1><div id="form_head">{{ form_head }}</div></h1>
        </div>
    </div>
    <div class="row" my-1>
        <div class="col">
            <form action="{% url 'wiki:add' %}" method="POST">
                <div class="form-group row my-2">
                    <div class="col-8">
                        <h4>
                            {% csrf_token %}
                            {{ entry_form }}
                        </h4>
                    </div>
                    <div class="col-4"></div>
                </div>
                <div class="form-group row my-2">
                    <div class="col-8">
                        <button type="submit" class="btn btn-primary m-2">Save Entry</button>
                    </div>
                    <div class="col-4">{{ entry_form.edit_type.value}}</div>
                </div>
            </form>
        </div>
    </div>

<script>
    window.onload = function disableTitleField() {
        var edit_type = document.getElementById("form_head").innerHTML;
        if (edit_type == "Edit Entry") {
            document.getElementById("id_title").readOnly = true;
        }
        
    }
</script>

{% endblock %}